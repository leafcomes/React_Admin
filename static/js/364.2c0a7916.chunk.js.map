{"version":3,"file":"static/js/364.2c0a7916.chunk.js","mappings":"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","sources":["pages/GoodManage/GoodList/index.jsx","../node_modules/@ant-design/icons-svg/es/asn/DeleteOutlined.js","../node_modules/@ant-design/icons/es/icons/DeleteOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/EditOutlined.js","../node_modules/@ant-design/icons/es/icons/EditOutlined.js","../node_modules/@ant-design/icons-svg/es/asn/ExclamationCircleOutlined.js","../node_modules/@ant-design/icons/es/icons/ExclamationCircleOutlined.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport { Space, Button, Table, message, Tooltip, Modal, Input, Pagination } from \"antd\";\r\nimport { EditOutlined, DeleteOutlined, ExclamationCircleOutlined } from \"@ant-design/icons\";\r\nimport axios from \"axios\";\r\nconst { Search } = Input;\r\nconst { confirm } = Modal;\r\nexport default class GoodList extends Component {\r\n  columns = [\r\n    {\r\n      title: \"#\",\r\n      key: \"index\",\r\n      render: (text, record, index) => index + 1,\r\n    },\r\n    {\r\n      width: \"45%\",\r\n      title: \"商品名称\",\r\n      dataIndex: \"goods_name\",\r\n      key: \"goods_name\",\r\n    },\r\n    {\r\n      width: \"10%\",\r\n      title: \"商品价格（元）\",\r\n      dataIndex: \"goods_price\",\r\n      key: \"goods_price\",\r\n    },\r\n    {\r\n      width: \"10%\",\r\n      title: \"商品重量（克）\",\r\n      dataIndex: \"goods_weight\",\r\n      key: \"goods_weight\",\r\n    },\r\n    {\r\n      width: \"15%\",\r\n      title: \"创建事件\",\r\n      key: \"add_time\",\r\n      render: (text, record) => new Date(record.add_time).toLocaleDateString(),\r\n    },\r\n    {\r\n      width: \"10%\",\r\n      title: \"操作\",\r\n      dataIndex: \"operation\",\r\n      key: \"operation\",\r\n      render: (text, record) => (\r\n        <Space>\r\n          <Tooltip title=\"修改商品\" color=\"blue\">\r\n            <Button\r\n              icon={<EditOutlined />}\r\n              className=\"primaryStyle\"\r\n              onClick={() => {\r\n                this.props.history.push(`/goods/edit/${record.goods_id}`);\r\n              }}\r\n            />\r\n          </Tooltip>\r\n          <Tooltip title=\"删除商品\" color=\"red\">\r\n            <Button\r\n              icon={<DeleteOutlined />}\r\n              className=\"dangerStyle\"\r\n              onClick={() => {\r\n                this.showRemoveGoodConfirm(record.goods_id);\r\n              }}\r\n            />\r\n          </Tooltip>\r\n        </Space>\r\n      ),\r\n    },\r\n  ];\r\n  state = {\r\n    queryInfo: {\r\n      query: \"\",\r\n      pagenum: 1,\r\n      pagesize: 10,\r\n    },\r\n    goodList: [],\r\n    goodTotal: 0,\r\n    // 控制删除商品的对话框的显示与隐藏\r\n    removeGoodConfirmVisible: false,\r\n    loading: false,\r\n  };\r\n  // 获取商品列表\r\n  getGoodList = async () => {\r\n    this.setState({ loading: true });\r\n    try {\r\n      const { data: res } = await axios.get(\"goods\", {\r\n        params: this.state.queryInfo,\r\n      });\r\n      if (res.meta.status !== 200) {\r\n        return message.error(\"获取商品失败！\");\r\n      }\r\n      this.setState({ goodList: res.data.goods, goodTotal: res.data.total, loading: false });\r\n    } catch (error) {\r\n      return message.error(\"网络出错，请稍后重试！\");\r\n    }\r\n  };\r\n  // 重置商品搜索框\r\n  resetSearch = (event) => {\r\n    if (event.target.value === \"\") {\r\n      this.state.queryInfo.query = \"\";\r\n      this.getGoodList();\r\n    }\r\n  };\r\n  // 搜索商品\r\n  searchGood = (goodName) => {\r\n    this.state.queryInfo.query = goodName;\r\n    this.getGoodList();\r\n  };\r\n  removeGoodById = async (goodId) => {\r\n    try {\r\n      const { data: res } = await axios.delete(`goods/${goodId}`);\r\n      if (res.meta.status !== 200) {\r\n        return message.error(\"删除商品失败！\");\r\n      }\r\n      message.success(\"删除商品成功！\");\r\n      this.getGoodList();\r\n    } catch (error) {\r\n      return message.error(\"网络出错，请稍后重试！\");\r\n    }\r\n  };\r\n  // 页码或pagesize改变时的回调函数\r\n  onPageChange = (page, pagesize) => {\r\n    this.state.queryInfo.pagenum = page;\r\n    this.state.queryInfo.pagesize = pagesize;\r\n    this.getGoodList();\r\n  };\r\n  showRemoveGoodConfirm = (goodId) => {\r\n    confirm({\r\n      title: \"提示\",\r\n      icon: <ExclamationCircleOutlined />,\r\n      content: \"该操作会删除该商品，是否继续?\",\r\n      onOk: () => {\r\n        this.removeGoodById(goodId);\r\n      },\r\n      onCancel: () => {\r\n        message.info(\"已取消删除！\");\r\n      },\r\n    });\r\n  };\r\n\r\n  componentDidMount() {\r\n    this.getGoodList();\r\n  }\r\n  render() {\r\n    return (\r\n      <>\r\n        <Space direction=\"vertical\">\r\n          <Space>\r\n            <Search\r\n              placeholder=\"请输入商品名\"\r\n              size=\"large\"\r\n              allowClear\r\n              onChange={this.resetSearch}\r\n              onSearch={this.searchGood}\r\n            />\r\n            <Button\r\n              type=\"primary\"\r\n              size=\"large\"\r\n              onClick={() => {\r\n                this.props.history.push(\"/goods/add\");\r\n              }}\r\n            >\r\n              添加商品\r\n            </Button>\r\n          </Space>\r\n          <Table\r\n            loading={this.state.loading}\r\n            pagination={{ position: [\"none\"] }}\r\n            bordered\r\n            columns={this.columns}\r\n            dataSource={this.state.goodList}\r\n            rowKey={(record) => record.goods_id}\r\n          ></Table>\r\n          <Pagination\r\n            total={this.state.goodTotal}\r\n            current={this.state.queryInfo.pagenum}\r\n            size=\"large\"\r\n            pageSizeOptions={[1, 2, 5, 10]}\r\n            defaultPageSize={this.state.queryInfo.pagesize}\r\n            showSizeChanger\r\n            onChange={this.onPageChange}\r\n            showQuickJumper\r\n            showTotal={(total) => `共 ${total} 条`}\r\n          />\r\n        </Space>\r\n      </>\r\n    );\r\n  }\r\n}\r\n","// This icon file is generated automatically.\nvar DeleteOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z\" } }] }, \"name\": \"delete\", \"theme\": \"outlined\" };\nexport default DeleteOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport DeleteOutlinedSvg from \"@ant-design/icons-svg/es/asn/DeleteOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar DeleteOutlined = function DeleteOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: DeleteOutlinedSvg\n  }));\n};\n\nDeleteOutlined.displayName = 'DeleteOutlined';\nexport default /*#__PURE__*/React.forwardRef(DeleteOutlined);","// This icon file is generated automatically.\nvar EditOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 000-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 009.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z\" } }] }, \"name\": \"edit\", \"theme\": \"outlined\" };\nexport default EditOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport EditOutlinedSvg from \"@ant-design/icons-svg/es/asn/EditOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar EditOutlined = function EditOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: EditOutlinedSvg\n  }));\n};\n\nEditOutlined.displayName = 'EditOutlined';\nexport default /*#__PURE__*/React.forwardRef(EditOutlined);","// This icon file is generated automatically.\nvar ExclamationCircleOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" } }, { \"tag\": \"path\", \"attrs\": { \"d\": \"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z\" } }] }, \"name\": \"exclamation-circle\", \"theme\": \"outlined\" };\nexport default ExclamationCircleOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport ExclamationCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/ExclamationCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\n\nvar ExclamationCircleOutlined = function ExclamationCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: ExclamationCircleOutlinedSvg\n  }));\n};\n\nExclamationCircleOutlined.displayName = 'ExclamationCircleOutlined';\nexport default /*#__PURE__*/React.forwardRef(ExclamationCircleOutlined);"],"names":["Search","Input","confirm","Modal","GoodList","columns","title","key","render","text","record","index","width","dataIndex","Date","add_time","toLocaleDateString","Space","Tooltip","color","Button","icon","className","onClick","props","history","push","goods_id","showRemoveGoodConfirm","state","queryInfo","query","pagenum","pagesize","goodList","goodTotal","removeGoodConfirmVisible","loading","getGoodList","setState","axios","params","res","data","meta","status","message","goods","total","resetSearch","event","target","value","searchGood","goodName","removeGoodById","goodId","onPageChange","page","content","onOk","onCancel","this","direction","placeholder","size","allowClear","onChange","onSearch","type","Table","pagination","position","bordered","dataSource","rowKey","Pagination","current","pageSizeOptions","defaultPageSize","showSizeChanger","showQuickJumper","showTotal","Component","DeleteOutlined","ref","React","AntdIcon","_objectSpread","DeleteOutlinedSvg","displayName","EditOutlined","EditOutlinedSvg","ExclamationCircleOutlined","ExclamationCircleOutlinedSvg"],"sourceRoot":""}